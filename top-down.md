# top-down

## 第一章：提纲

### 互联网的结构和ISP

- 端系统通过**接入ISPs**连接到互联网。

- Q：给定数百万ISP，如何将他们互联

	1. 两两互联--**不可拓展**

	2. 接入global ISP //如果全局ISP可行，会形成不同的全局ISP相互竞争（compete）和合作。

	3. ISP之间的连接可以通过Internet exchange point（IXP），多个ISP可以在这里对等。也可以通过POP，高级ISP接入低级ISP（若一个低级ISP接入多个高级ISP，**称之为多宿-multi home**）。可以通过ICP自己部署专用网络，同时和各级别ISP互联。

		

内容提供商网络（ICP）可能会构建自己的网络，让自己的服务和内容更加**靠近端用户**，提供更优质的服务同时降低运营成本。

**中心：第一次ISP**（如UUNET ，Sprint） 覆盖全球

**第二层ISP**：区域性ISP

### 分组延时，丢失和吞吐量

Q:分组丢失和延时是怎么发生的？

1. 节点处理延时
2. 分组到达链路的速率超过了链路的传输能力.(需要排队)
3. 传输延时（分组发送需要是时间L/R（分组长度/带宽））
4. 传播延时（电磁波传播时间）（近距离可以忽略不计） 

丢包：流量强度大于等于1时就会丢包，分组队列溢出

Traceroute

1. Traceroute是一个简单的应用程序，用于检测往返延时
2. 具体：假设源和目的地之间有**N-1**台路由器，则源发送**N**个特殊分组，路径上的路由器接收到特殊分组会向源回报一个短报文{路由器名字，地址}。

吞吐量

1. 吞吐量取决于路径上的最小吞吐量链路（瓶颈链路）（短板效应）。



  

###  协议层次 

​	服务和服务访问点

- 服务（Service）：底层实体向上层实体提供他们之间通信的能力
- 原语（primitive）：上层使用下层服务的形式，高层使用低层提供的服务，以及低层向高层提供服务都是通过服务访问原语来进行交互的。
- 服务访问点SAP（Service Access Point）：上层使用下层提供的服务通过层间的接口---地点：如邮箱，地址（address），又如传输层的SAP：端口（port）

​	服务的类型

1. 有连接（建立握手关系，做准备）
2. 无连接

​	

​	数据单元（DU）

​		SDU（service data unit）

​		.......



分层处理设计复杂系统

结构化，便于采用一些新技术



Internet 协议栈

- 物理层
- 链路层
- 网络层
- 传输层
- 应用层
